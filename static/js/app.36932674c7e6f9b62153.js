webpackJsonp([1],{0:function(t,e){},"5dkf":function(t,e,a){"use strict";var s=a("gyMJ");e.a=function(){try{return s.a.authenticate()}catch(t){}}},CGvA:function(t,e,a){"use strict";(function(t){var s=a("Xxa5"),r=a.n(s),n=a("exGp"),i=a.n(n),o=a("gyMJ"),c=a("5dkf"),l=a("myXI"),d=a("PJh5");a.n(d);e.a={data:function(){return{advertisementData:{},advertisements:[],currentFileUploadProgress:0,preloaders:{add_loader:!1,edit_loader:!1},notifications:{add_notif:!1,edit_notif:!1},isFileUploading:!1}},mounted:function(){this.validateUser()},methods:{validateUser:function(){var t=this;return i()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)();case 3:"superuser"!==e.sent.user.type&&(window.location.href="/login"),t.getAdvertisements(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()},setCurrentAdvertisement:function(t){var e=this;return i()(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.advertisementData=t;case 1:case"end":return a.stop()}},a,e)}))()},getAdvertisements:function(){var t=this;return i()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.service("advertisements").find();case 3:a=e.sent,t.advertisements=a.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,e.finish(10);case 12:case"end":return e.stop()}},e,t,[[0,7,10,12]])}))()},addNewAdvertisement:function(){var t=this;return i()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preloaders.add_loader=!0,e.prev=1,e.next=4,o.a.service("advertisements").create(t.advertisementData);case 4:a=e.sent,console.log(a),a.created_at&&(t.preloaders.add_loader=!1,t.notifications.add_notif=!0,t.advertisements.push(a),t.advertisementData={},t.$forceUpdate()),alert("Success!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),"advertisements validation failed: file_name: Path `file_name` is required."===e.t0.message&&alert("Upload the advertisement file first!");case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}},e,t,[[1,10,13,15]])}))()},updateAdvertisement:function(){var t=this;return i()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.service("advertisements").patch(t.advertisementData._id,t.advertisementData);case 3:a=e.sent,t.advertisements.forEach(function(t,e){t._id,a._id}),t.advertisementData={},t.$forceUpdate(),t.notifications.add_notif=!0,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,t,[[0,10]])}))()},removeAdvertisement:function(t){var e=this;return i()(r.a.mark(function a(){var s;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,confirm("Are you sure you want to delete?")){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,o.a.service("advertisements").remove(t._id);case 6:s=a.sent,e.advertisements.forEach(function(t,a){t._id===s._id&&e.advertisements.splice(a,1)}),e.advertisementData={},e.$forceUpdate(),alert("Success!"),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.log(a.t0);case 16:return a.prev=16,a.finish(16);case 18:case"end":return a.stop()}},a,e,[[0,13,16,18]])}))()},uploadFile:function(e){var a=this;this.isFileUploading=!0,this.currentFileUploadProgress=0;var s=e.target.files[0],r=new FormData;r.append("uri",s),t.ajax({url:l.a+"/cloudinary",cache:!1,contentType:!1,processData:!1,data:r,type:"POST",success:function(t){a.advertisementData.file_name=t.url,a.isFileUploading=!1,alert("Upload complete.")},error:function(t){console.log(t),a.isFileUploading=!1,alert("Something went wrong. Please double check your file type. (Use .mp4 format)")},xhr:function(){var t=this,e=new XMLHttpRequest;return e.upload.addEventListener("progress",function(e){if(e.lengthComputable){var a=e.loaded/e.total;a=parseInt(100*a),t.currentFileUploadProgress=a}},!1),e}})}}}}).call(e,a("7t+N"))},DmMy:function(t,e,a){"use strict";(function(t){var s=a("Xxa5"),r=a.n(s),n=a("exGp"),i=a.n(n),o=a("gyMJ"),c=(a("5dkf"),a("PJh5")),l=a.n(c),d=a("myXI");e.a={data:function(){return{date:l()().format("LLL"),counters:[],API_SERVER:d.a,ads:[],ctr:0,company_name:"",announcement:""}},mounted:function(){var t=this;return i()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.getCounters(),t.getNowServing(),t.getAds(),t.getSettings();case 4:case"end":return e.stop()}},e,t)}))()},methods:{test:function(){var t=this;return i()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("myVideo").addEventListener("ended",function(e){t.ctr++,t.ctr==t.ads.length?(t.ctr=0,t.videoPlay(t.ctr)):t.videoPlay(t.ctr)},!1),t.videoPlay(0);case 2:case"end":return e.stop()}},e,t)}))()},videoPlay:function(t){var e=this;return i()(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:document.getElementById("myVideo").setAttribute("src",e.ads[t]),document.getElementById("myVideo").load(),e.$refs.videoRef.play();case 3:case"end":return a.stop()}},a,e)}))()},getCounters:function(){var t=this;return i()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.service("counters").find({query:{$limit:3}});case 3:a=e.sent,t.counters=a.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},getNowServing:function(){var e=this;return i()(r.a.mark(function a(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.service("now-serving").find();case 3:e.sent.data.forEach(function(e){t("#"+e.counter._id).text(e.ticket.label)}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},a,e,[[0,7]])}))()},getTicket:function(e){var a=this;return i()(r.a.mark(function s(){var n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(e),a.prev=1,a.next=4,o.a.service("tickets").get(e.ticket._id);case 4:n=a.sent,t("#"+e.counter._id).text(n.label),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:case"end":return a.stop()}},s,a,[[1,8]])}))()},getAds:function(){var t=this;return i()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.service("advertisements").find();case 3:e.sent.data.forEach(function(e){t.ads.push(""+e.file_name)}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,t.test(),e.finish(10);case 13:case"end":return e.stop()}},e,t,[[0,7,10,13]])}))()},getSettings:function(){var t=this;return i()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.service("settings").find();case 3:a=e.sent,t.company_name=a.data[0].company_name,t.announcement=a.data[0].announcement,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()}},feathers:{"now-serving":{created:function(t){this.getTicket(t)}}}}}).call(e,a("7t+N"))},JPFu:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},n=a("VU/8")(null,r,!1,null,null,null).exports,i=a("/ocq"),o=a("DmMy"),c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"100vh"},attrs:{id:"monitor"}},[a("div",{staticClass:"header"},[a("div",{staticStyle:{color:"#fff","margin-top":".3%","margin-bottom":"10px !important","font-size":"30px","font-weight":"bold","text-transform":"uppercase"}},[t._v(t._s(t.company_name))])]),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"ads"},[a("div",{staticClass:"video-ads"},[a("video",{ref:"videoRef",attrs:{width:"100%",height:"100%",id:"myVideo",preload:"none",muted:""},domProps:{muted:!0}})]),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("h1",{staticStyle:{"text-transform":"uppercase"}},[t._v(t._s(t.date))])])]),t._v(" "),a("div",{staticClass:"counters"},t._l(t.counters,function(e,s){return a("div",{key:s},[a("div",{staticClass:"header",staticStyle:{background:"#fff"}},[a("h2",{staticStyle:{"font-size":"35px","text-transform":"uppercase"}},[t._v("\n                "+t._s(e.label)+"\n            ")])]),t._v(" "),a("div",{staticClass:"body text-center"},[a("h1",{staticStyle:{"font-size":"80px","margin-top":"0px","margin-bottom":"0px"},attrs:{id:e._id}},[t._v("N/A")]),t._v(" "),s<2?a("hr",{staticStyle:{height:"5px",background:"#0B5365"}}):t._e()])])}))]),t._v(" "),a("div",{staticClass:"announcement"},[t._m(0),t._v(" "),a("div",{staticStyle:{width:"86%"}},[a("marquee",{staticStyle:{"margin-top":"0%"},attrs:{scrollamount:"4"}},[t._v(t._s(t.announcement))])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{width:"14%"}},[e("strong",[this._v("ANNOUNCEMENT:")])])}]};var l=function(t){a("JPFu")},d=a("VU/8")(o.a,c,!1,l,"data-v-2a13bb7e",null).exports,u=a("Xxa5"),v=a.n(u),m=a("exGp"),p=a.n(m),f=a("gyMJ"),_={data:function(){return{company_name:""}},mounted:function(){this.getSettings()},methods:{getSettings:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.service("settings").find();case 3:a=e.sent,t.company_name=a.data[0].company_name,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()}}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"header"}},[e("nav",{staticClass:"navbar"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"navbar-header"},[e("a",{staticClass:"navbar-toggle collapsed",attrs:{href:"javascript:void(0);","data-toggle":"collapse","data-target":"#navbar-collapse","aria-expanded":"false"}}),this._v(" "),e("a",{staticClass:"bars",attrs:{href:"javascript:void(0);"}}),this._v(" "),e("a",{staticClass:"navbar-brand",attrs:{href:"index.html"}},[this._v(this._s(this.company_name))])])])])])},staticRenderFns:[]},g=a("VU/8")(_,h,!1,null,null,null).exports,C=a("5dkf"),b={data:function(){return{user:{},routeName:""}},mounted:function(){this.validateUser(),this.routeName=this.$route.name},methods:{validateUser:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(C.a)();case 3:a=e.sent,t.user=a.user,"superuser"!==a.user.type&&(window.location.href="/login"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),"not-authenticated"===e.t0.className?window.location.href="/login":console.log(e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()},setActiveLink:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.routeName=t.$route.name;case 1:case"end":return e.stop()}},e,t)}))()},logOut:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.removeItem("feathers-jwt"),window.location.href="/login";case 2:case"end":return t.stop()}},e,t)}))()}}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"side-menu"}},[a("section",[a("aside",{staticClass:"sidebar",attrs:{id:"leftsidebar"}},[a("div",{staticClass:"user-info"},[t._m(0),t._v(" "),a("div",{staticClass:"info-container"},[a("div",{staticClass:"name",staticStyle:{"text-transform":"capitalize"},attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(t._s(t.user.first_name+" "+t.user.last_name))]),t._v(" "),a("div",{staticClass:"email"},[t._v(t._s(t.user.email))]),t._v(" "),a("div",{staticClass:"btn-group user-helper-dropdown"},[a("i",{staticClass:"material-icons",attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"true"}},[t._v("keyboard_arrow_down")]),t._v(" "),a("ul",{staticClass:"dropdown-menu pull-right"},[a("li",{on:{click:t.logOut}},[t._m(1)])])])])]),t._v(" "),a("div",{staticClass:"menu"},[a("ul",{staticClass:"list"},[a("li",{staticClass:"header"},[t._v("MAIN NAVIGATION")]),t._v(" "),a("li",{class:{active:"Employees"===t.routeName},on:{click:t.setActiveLink}},[a("router-link",{attrs:{to:"/admin"}},[a("i",{staticClass:"material-icons"},[t._v("supervisor_account")]),t._v(" "),a("span",[t._v("Employees")])])],1),t._v(" "),a("li",{class:{active:"Counters"===t.routeName},on:{click:t.setActiveLink}},[a("router-link",{attrs:{to:"/admin/counters"}},[a("i",{staticClass:"material-icons"},[t._v("supervisor_account")]),t._v(" "),a("span",[t._v("Counters")])])],1),t._v(" "),a("li",{class:{active:"Tickets"===t.routeName},on:{click:t.setActiveLink}},[a("router-link",{attrs:{to:"/admin/tickets"}},[a("i",{staticClass:"material-icons"},[t._v("credit_card")]),t._v(" "),a("span",[t._v("Tickets")])])],1),t._v(" "),a("li",{class:{active:"Queues"===t.routeName},on:{click:t.setActiveLink}},[a("router-link",{attrs:{to:"/admin/queues"}},[a("i",{staticClass:"material-icons"},[t._v("queue")]),t._v(" "),a("span",[t._v("Queue")])])],1),t._v(" "),a("li",{class:{active:"Advertisements"===t.routeName},on:{click:t.setActiveLink}},[a("router-link",{attrs:{to:"/admin/advertisements"}},[a("i",{staticClass:"material-icons"},[t._v("perm_media")]),t._v(" "),a("span",[t._v("Advertisements")])])],1),t._v(" "),a("li",{class:{active:"Logs"===t.routeName},on:{click:t.setActiveLink}},[a("router-link",{attrs:{to:"/admin/logs"}},[a("i",{staticClass:"material-icons"},[t._v("credit_card")]),t._v(" "),a("span",[t._v("Logs")])])],1),t._v(" "),a("li",{class:{active:"Settings"===t.routeName},on:{click:t.setActiveLink}},[a("router-link",{attrs:{to:"/admin/settings"}},[a("i",{staticClass:"material-icons"},[t._v("settings")]),t._v(" "),a("span",[t._v("Settings")])])],1)])]),t._v(" "),t._m(2)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"image"},[e("img",{attrs:{src:"/static/images/user.png",width:"48",height:"48",alt:"User"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{attrs:{href:"javascript:void(0);"}},[e("i",{staticClass:"material-icons"},[this._v("input")]),this._v("Logout")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"legal"},[e("div",{staticClass:"copyright"},[this._v("\n                    © 2018 "),e("a",{attrs:{href:"javascript:void(0);"}},[this._v("QMS")]),this._v(".\n                ")]),this._v(" "),e("div",{staticClass:"version"},[e("b",[this._v("Version: ")]),this._v(" 1.0\n                ")])])}]},y={components:{HeaderLayout:g,SideMenuLayout:a("VU/8")(b,x,!1,null,null,null).exports}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"admin"}},[e("header-layout"),this._v(" "),e("side-menu-layout"),this._v(" "),e("router-view")],1)},staticRenderFns:[]},k=a("VU/8")(y,w,!1,null,null,null).exports,E=a("mvHQ"),j=a.n(E),S=a("PJh5"),F=a.n(S),N={data:function(){return{employees:[],editEmployeeForm:{},addEmployeeForm:{first_name:"",last_name:"",email:"",password:"",type:"employee"},preloaders:{add_loader:!1,edit_loader:!1},notifications:{add_notif:!1,edit_notif:!1}}},mounted:function(){this.validateUser()},methods:{updateEmployee:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preloaders.edit_loader=!0,e.prev=1,e.next=4,f.a.service("users").patch(t.editEmployeeForm._id,t.editEmployeeForm);case 4:a=e.sent,console.log(a),a.updated_at&&(t.preloaders.edit_loader=!1,t.notifications.edit_notif=!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}},e,t,[[1,9]])}))()},editEmployee:function(t){var e=this;return p()(v.a.mark(function a(){return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.editEmployeeForm=t;case 1:case"end":return a.stop()}},a,e)}))()},validateUser:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(C.a)();case 3:"superuser"!==e.sent.user.type&&(window.location.href="/login"),t.getEmployees(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()},getEmployees:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.service("users").find({query:{type:"employee"}});case 3:a=e.sent,t.employees=a.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},saveEmployee:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preloaders.add_loader=!0,e.prev=1,e.next=4,f.a.service("users").create(t.addEmployeeForm);case 4:a=e.sent,console.log(a.created_at),a.created_at&&(t.preloaders.add_loader=!1,t.notifications.add_notif=!0,t.emptyFormData()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),"conflict"===e.t0.className?(alert("Email is already taken."),t.preloaders.add_loader=!1):alert(j()(e.t0));case 12:case"end":return e.stop()}},e,t,[[1,9]])}))()},emptyFormData:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.addEmployeeForm={first_name:"",last_name:"",email:"",password:""};case 1:case"end":return e.stop()}},e,t)}))()}}},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"employees"}},[a("section",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"block-header"},[a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"body table-responsive"},[a("table",{staticClass:"table"},[t._m(1),t._v(" "),a("tbody",t._l(t.employees,function(e,s){return a("tr",{key:s},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),t._v(" "),a("td",{staticStyle:{"text-transform":"capitalize"}},[t._v(t._s(e.first_name+" "+e.last_name))]),t._v(" "),a("td",[t._v(t._s(e.email))]),t._v(" "),a("td",[a("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},attrs:{"data-toggle":"modal","data-target":"#editEmployee"},on:{click:function(a){t.editEmployee(e)}}},[t._v("mode_edit")])])])}))])])])])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"addEmployee",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.saveEmployee(e)}}},[a("div",{staticClass:"modal-body",staticStyle:{"padding-bottom":"0px"}},[a("label",{attrs:{for:"first_name"}},[t._v("First Name:")]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-line"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addEmployeeForm.first_name,expression:"addEmployeeForm.first_name"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.addEmployeeForm.first_name},on:{input:function(e){e.target.composing||t.$set(t.addEmployeeForm,"first_name",e.target.value)}}})])]),t._v(" "),a("label",{attrs:{for:"last_name"}},[t._v("Last Name:")]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-line"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addEmployeeForm.last_name,expression:"addEmployeeForm.last_name"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.addEmployeeForm.last_name},on:{input:function(e){e.target.composing||t.$set(t.addEmployeeForm,"last_name",e.target.value)}}})])]),t._v(" "),a("label",{attrs:{for:"email"}},[t._v("Email:")]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-line"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addEmployeeForm.email,expression:"addEmployeeForm.email"}],staticClass:"form-control",attrs:{type:"email",required:""},domProps:{value:t.addEmployeeForm.email},on:{input:function(e){e.target.composing||t.$set(t.addEmployeeForm,"email",e.target.value)}}})])]),t._v(" "),a("label",{attrs:{for:"password"}},[t._v("Password:")]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-line"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addEmployeeForm.password,expression:"addEmployeeForm.password"}],staticClass:"form-control",attrs:{type:"password",required:""},domProps:{value:t.addEmployeeForm.password},on:{input:function(e){e.target.composing||t.$set(t.addEmployeeForm,"password",e.target.value)}}})])]),t._v(" "),t.notifications.add_notif?a("p",{staticClass:"col-teal"},[t._v("Employee Added!")]):t._e()]),t._v(" "),a("div",{staticClass:"modal-footer",staticStyle:{"padding-top":"0px"}},[a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"submit"}},[t.preloaders.add_loader?t._e():a("span",[t._v("SAVE")]),t._v(" "),t.preloaders.add_loader?a("span",[t._v("SAVING...")]):t._e()]),t._v(" "),a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"button","data-dismiss":"modal"}},[t._v("CLOSE")])])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"editEmployee",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(3),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.updateEmployee(e)}}},[a("div",{staticClass:"modal-body",staticStyle:{"padding-bottom":"0px"}},[a("label",{attrs:{for:"first_name"}},[t._v("First Name:")]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-line"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editEmployeeForm.first_name,expression:"editEmployeeForm.first_name"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.editEmployeeForm.first_name},on:{input:function(e){e.target.composing||t.$set(t.editEmployeeForm,"first_name",e.target.value)}}})])]),t._v(" "),a("label",{attrs:{for:"last_name"}},[t._v("Last Name:")]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-line"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editEmployeeForm.last_name,expression:"editEmployeeForm.last_name"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.editEmployeeForm.last_name},on:{input:function(e){e.target.composing||t.$set(t.editEmployeeForm,"last_name",e.target.value)}}})])]),t._v(" "),a("label",{attrs:{for:"email"}},[t._v("Email:")]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-line"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editEmployeeForm.email,expression:"editEmployeeForm.email"}],staticClass:"form-control",attrs:{type:"email",required:""},domProps:{value:t.editEmployeeForm.email},on:{input:function(e){e.target.composing||t.$set(t.editEmployeeForm,"email",e.target.value)}}})])]),t._v(" "),t.notifications.edit_notif?a("p",{staticClass:"col-teal"},[t._v("Employee Updated!")]):t._e()]),t._v(" "),a("div",{staticClass:"modal-footer",staticStyle:{"padding-top":"0px"}},[a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"submit"}},[t.preloaders.edit_loader?t._e():a("span",[t._v("UPDATE")]),t._v(" "),t.preloaders.edit_loader?a("span",[t._v("UPDATING...")]):t._e()]),t._v(" "),a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"button","data-dismiss":"modal"}},[t._v("CLOSE")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("h2",[this._v("EMPLOYEES")]),this._v(" "),e("ul",{staticClass:"header-dropdown m-r--5"},[e("li",{staticClass:"dropdown"},[e("a",{staticClass:"dropdown-toggle",attrs:{href:"javascript:void(0);","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"material-icons"},[this._v("more_vert")])]),this._v(" "),e("ul",{staticClass:"dropdown-menu pull-right"},[e("li",[e("a",{staticClass:" waves-effect waves-block",attrs:{"data-toggle":"modal","data-target":"#addEmployee"}},[this._v("Add Employee")])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("#")]),this._v(" "),e("th",[this._v("NAME")]),this._v(" "),e("th",[this._v("EMAIL")]),this._v(" "),e("th")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[this._v("Add Employee")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[this._v("Edit Employee")])])}]},T=a("VU/8")(N,A,!1,null,null,null).exports,U={data:function(){return{counters:[],editCounterForm:{},addCounterForm:{label:"",occupied_by:""},preloaders:{add_loader:!1,edit_loader:!1},notifications:{add_notif:!1,edit_notif:!1},employees:[]}},mounted:function(){this.validateUser()},methods:{setOccupier:function(t){var e=this;return p()(v.a.mark(function a(){return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.addCounterForm.occupied_by=t;case 1:case"end":return a.stop()}},a,e)}))()},getEmployees:function(){var t=this;return p()(v.a.mark(function e(){var a,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.service("counters").find();case 3:a=e.sent,s=[],a.data.forEach(function(t){t.occupied_by&&s.push(t.occupied_by.email)}),t.getAvailableEmployees(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()},getAvailableEmployees:function(t){var e=this;return p()(v.a.mark(function a(){var s;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.service("users").find({query:{type:"employee",email:{$nin:t}}});case 3:s=a.sent,e.employees=s.data,a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}},a,e,[[0,7]])}))()},updateCounter:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preloaders.edit_loader=!0,e.prev=1,e.next=4,f.a.service("counters").update(t.editCounterForm._id,t.editCounterForm);case 4:a=e.sent,console.log(a),a.updated_at&&(t.preloaders.edit_loader=!1,t.notifications.edit_notif=!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}},e,t,[[1,9]])}))()},editCounter:function(t){var e=this;return p()(v.a.mark(function a(){return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.editCounterForm=t;case 1:case"end":return a.stop()}},a,e)}))()},validateUser:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(C.a)();case 3:"superuser"!==e.sent.user.type&&(window.location.href="/login"),t.getCounters(),t.getEmployees(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()},getCounters:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.service("counters").find();case 3:a=e.sent,t.counters=a.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},saveCounter:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preloaders.add_loader=!0,e.prev=1,e.next=4,f.a.service("counters").create(t.addCounterForm);case 4:e.sent.created_at&&(t.preloaders.add_loader=!1,t.notifications.add_notif=!0,t.emptyFormData()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}},e,t,[[1,8]])}))()},emptyFormData:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.addCounterForm={label:""};case 1:case"end":return e.stop()}},e,t)}))()}}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"counters"}},[a("section",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"block-header"},[a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"header"},[a("h2",[t._v("\n\t\t\t\t                    COUNTERS\n\t\t\t\t                ")]),t._v(" "),t.counters.length>=4?a("ul",{staticClass:"header-dropdown m-r--5"},[t._m(0)]):t._e()]),t._v(" "),a("div",{staticClass:"body table-responsive"},[a("table",{staticClass:"table"},[t._m(1),t._v(" "),a("tbody",t._l(t.counters,function(e,s){return a("tr",{key:s},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.label))]),t._v(" "),a("td",[e.occupied_by?a("span",[t._v(t._s(e.occupied_by.first_name+" "+e.occupied_by.last_name))]):a("span",{staticClass:"font-bold col-pink"},[t._v("NOT OCCUPIED")])]),a("td"),a("td",[a("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},attrs:{"data-toggle":"modal","data-target":"#editCounter"},on:{click:function(a){t.editCounter(e)}}},[t._v("mode_edit")])])])}))])])])])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"addCounter",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.saveCounter(e)}}},[a("div",{staticClass:"modal-body",staticStyle:{"padding-bottom":"0px"}},[a("label",{attrs:{for:"name"}},[t._v("Name:")]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-line"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addCounterForm.label,expression:"addCounterForm.label"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.addCounterForm.label},on:{input:function(e){e.target.composing||t.$set(t.addCounterForm,"label",e.target.value)}}})])]),t._v(" "),a("label",{attrs:{for:"occupier"}},[t._v("Choose Occupier:")]),t._v(" "),a("div",{staticClass:"demo-radio-button"},t._l(t.employees,function(e,s){return a("div",{key:s},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addCounterForm.occupied_by,expression:"addCounterForm.occupied_by"}],staticClass:"with-gap radio-col-blue-grey",attrs:{name:"addOccupier",type:"radio",id:s},domProps:{value:e._id,checked:t._q(t.addCounterForm.occupied_by,e._id)},on:{change:function(a){t.$set(t.addCounterForm,"occupied_by",e._id)}}}),t._v(" "),a("label",{attrs:{for:s}},[t._v(t._s(e.first_name+" "+e.last_name))])])})),t._v(" "),t.notifications.add_notif?a("p",{staticClass:"col-teal"},[t._v("Counter Added!")]):t._e()]),t._v(" "),a("div",{staticClass:"modal-footer",staticStyle:{"padding-top":"0px"}},[a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"submit"}},[t.preloaders.add_loader?t._e():a("span",[t._v("SAVE")]),t._v(" "),t.preloaders.add_loader?a("span",[t._v("SAVING...")]):t._e()]),t._v(" "),a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"button","data-dismiss":"modal"}},[t._v("CLOSE")])])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"editCounter",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(3),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.updateCounter(e)}}},[a("div",{staticClass:"modal-body",staticStyle:{"padding-bottom":"0px"}},[a("label",{attrs:{for:"first_name"}},[t._v("Name:")]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-line"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editCounterForm.label,expression:"editCounterForm.label"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.editCounterForm.label},on:{input:function(e){e.target.composing||t.$set(t.editCounterForm,"label",e.target.value)}}})])]),t._v(" "),a("label",{attrs:{for:"occupier"}},[t._v("Choose Occupier:")]),t._v(" "),a("div",{staticClass:"demo-radio-button"},t._l(t.employees,function(e,s){return a("div",{key:e._id},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editCounterForm.occupied_by,expression:"editCounterForm.occupied_by"}],staticClass:"with-gap radio-col-blue-grey",attrs:{name:"editOccupier",type:"radio",id:e._id},domProps:{value:e._id,checked:t._q(t.editCounterForm.occupied_by,e._id)},on:{change:function(a){t.$set(t.editCounterForm,"occupied_by",e._id)}}}),t._v(" "),a("label",{attrs:{for:e._id}},[t._v(t._s(e.first_name+" "+e.last_name))])])})),t._v(" "),t.notifications.edit_notif?a("p",{staticClass:"col-teal"},[t._v("Counter Updated!")]):t._e()]),t._v(" "),a("div",{staticClass:"modal-footer",staticStyle:{"padding-top":"0px"}},[a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"submit"}},[t.preloaders.edit_loader?t._e():a("span",[t._v("UPDATE")]),t._v(" "),t.preloaders.edit_loader?a("span",[t._v("UPDATING...")]):t._e()]),t._v(" "),a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"button","data-dismiss":"modal"}},[t._v("CLOSE")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"dropdown"},[e("a",{staticClass:"dropdown-toggle",attrs:{href:"javascript:void(0);","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"material-icons"},[this._v("more_vert")])]),this._v(" "),e("ul",{staticClass:"dropdown-menu pull-right"},[e("li",[e("a",{staticClass:" waves-effect waves-block",attrs:{"data-toggle":"modal","data-target":"#addCounter"}},[this._v("Add Counter")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("#")]),this._v(" "),e("th",[this._v("COUNTER")]),this._v(" "),e("th",[this._v("OCCUPIED BY")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[this._v("Add Counter")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[this._v("Edit Counter")])])}]},D=a("VU/8")(U,O,!1,null,null,null).exports,$={data:function(){return{tickets:[],maxTicketNumber:0,preloaders:{generate_loader:!1},notifications:{generate_notif:!1}}},mounted:function(){this.validateUser()},methods:{resetQue:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.service("kickstart").find();case 3:a=t.sent,console.log(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},e,t,[[0,7]])}))()},updateCounter:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{a=f.a.service("users").update({}),console.log(a)}catch(t){console.log(t)}case 1:case"end":return t.stop()}},e,t)}))()},editTicket:function(t){var e=this;return p()(v.a.mark(function a(){return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.editTicketForm=t;case 1:case"end":return a.stop()}},a,e)}))()},validateUser:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(C.a)();case 3:"superuser"!==e.sent.user.type&&(window.location.href="/login"),t.getTickets(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()},getTickets:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.service("tickets").find();case 3:a=e.sent,t.tickets=a.total,console.log(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()},generateTicket:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.tickets=[],t.preloaders.generate_loader=!0,e.prev=2,e.next=5,f.a.service("generate-ticket").create({ticketLength:t.maxTicketNumber});case 5:e.sent.success&&(t.notifications.generate_notif=!0,t.preloaders.generate_loader=!1,t.getTickets()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}},e,t,[[2,9]])}))()},emptyFormData:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.addTicketForm={label:""};case 1:case"end":return e.stop()}},e,t)}))()}}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"tickets"}},[a("section",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"block-header"},[a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"header"},[a("h2",[t._v("\n\t\t\t\t                    TICKETS\n\t\t\t\t                ")]),t._v(" "),a("ul",{staticClass:"header-dropdown m-r--5"},[a("li",{staticClass:"dropdown"},[t._m(0),t._v(" "),a("ul",{staticClass:"dropdown-menu pull-right"},[t._m(1),t._v(" "),a("li",[a("a",{staticClass:" waves-effect waves-block",on:{click:t.resetQue}},[t._v("Reset Que")])])])])])]),t._v(" "),a("div",{staticClass:"body table-responsive"},[a("table",{staticClass:"table"},[t._m(2),t._v(" "),a("tbody",[a("tr",[a("td",[t._v(t._s(t.tickets))])])])])])])])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"addCounter",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(3),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.generateTicket(e)}}},[a("div",{staticClass:"modal-body",staticStyle:{"padding-bottom":"0px"}},[a("label",{attrs:{for:"first_name"}},[t._v("Max Number:")]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-line"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.maxTicketNumber,expression:"maxTicketNumber"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.maxTicketNumber},on:{input:function(e){e.target.composing||(t.maxTicketNumber=e.target.value)}}})])]),t._v(" "),t.notifications.generate_notif?a("p",{staticClass:"col-teal"},[t._v("Ticket Generated!")]):t._e()]),t._v(" "),a("div",{staticClass:"modal-footer",staticStyle:{"padding-top":"0px"}},[a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"submit"}},[t.preloaders.generate_loader?t._e():a("span",[t._v("GENERATE")]),t._v(" "),t.preloaders.generate_loader?a("span",[t._v("GENERATING...")]):t._e()]),t._v(" "),a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"button","data-dismiss":"modal"}},[t._v("CLOSE")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"dropdown-toggle",attrs:{href:"javascript:void(0);","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"material-icons"},[this._v("more_vert")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{staticClass:" waves-effect waves-block",attrs:{"data-toggle":"modal","data-target":"#addCounter"}},[this._v("Generate Tickets")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("TOTAL NUMBER OF TICKETS")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[this._v("Generate Ticket")])])}]},q=a("VU/8")($,P,!1,null,null,null).exports,L={data:function(){return{queues:[],editQueueForm:{},addQueueForm:{label:""},preloaders:{add_loader:!1},notifications:{add_notif:!1}}},mounted:function(){this.validateUser()},methods:{updateCounter:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{a=f.a.service("users").update({}),console.log(a)}catch(t){console.log(t)}case 1:case"end":return t.stop()}},e,t)}))()},editQueue:function(t){var e=this;return p()(v.a.mark(function a(){return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.editQueueForm=t;case 1:case"end":return a.stop()}},a,e)}))()},validateUser:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(C.a)();case 3:"superuser"!==e.sent.user.type&&(window.location.href="/login"),t.getQueues(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()},getQueues:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.service("main-queue").find();case 3:a=e.sent,t.queues=a.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},saveTicket:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preloaders.add_loader=!0,e.prev=1,e.next=4,f.a.service("queues").create(t.addQueueForm);case 4:a=e.sent,console.log(a.created_at),a.created_at&&(t.preloaders.add_loader=!1,t.notifications.add_notif=!0,t.emptyFormData()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}},e,t,[[1,9]])}))()},emptyFormData:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.addQueueForm={label:""};case 1:case"end":return e.stop()}},e,t)}))()}}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"queues"}},[a("section",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"block-header"},[a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"body table-responsive"},[a("table",{staticClass:"table"},[t._m(1),t._v(" "),a("tbody",t._l(t.queues,function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.ticket.label))])])}))])])])])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"addCounter",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.saveTicket(e)}}},[a("div",{staticClass:"modal-body",staticStyle:{"padding-bottom":"0px"}},[a("div",{staticClass:"form-group form-float"},[a("div",{staticClass:"form-line"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.addQueueForm.label,expression:"addQueueForm.label"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.addQueueForm.label},on:{input:function(e){e.target.composing||t.$set(t.addQueueForm,"label",e.target.value)}}}),t._v(" "),a("label",{staticClass:"form-label"},[t._v("Name:")])])]),t._v(" "),a("label",{attrs:{for:"last_name"}},[t._v("Occupier:")]),t._v(" "),t._m(3),t._v(" "),t.notifications.add_notif?a("p",{staticClass:"col-teal"},[t._v("Counter Added!")]):t._e()]),t._v(" "),a("div",{staticClass:"modal-footer",staticStyle:{"padding-top":"0px"}},[a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"submit"}},[t.preloaders.add_loader?t._e():a("span",[t._v("SAVE")]),t._v(" "),t.preloaders.add_loader?a("span",[t._v("SAVING...")]):t._e()]),t._v(" "),a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"button","data-dismiss":"modal"}},[t._v("CLOSE")])])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"editQueue",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(4),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.updateCounter(e)}}},[a("div",{staticClass:"modal-body",staticStyle:{"padding-bottom":"0px"}},[a("label",{attrs:{for:"first_name"}},[t._v("Name:")]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-line"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editQueueForm.label,expression:"editQueueForm.label"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.editQueueForm.label},on:{input:function(e){e.target.composing||t.$set(t.editQueueForm,"label",e.target.value)}}})])]),t._v(" "),t.notifications.add_notif?a("p",{staticClass:"col-teal"},[t._v("Counter Added!")]):t._e()]),t._v(" "),a("div",{staticClass:"modal-footer",staticStyle:{"padding-top":"0px"}},[a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"submit"}},[t.preloaders.add_loader?t._e():a("span",[t._v("SAVE")]),t._v(" "),t.preloaders.add_loader?a("span",[t._v("SAVING...")]):t._e()]),t._v(" "),a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"button","data-dismiss":"modal"}},[t._v("CLOSE")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("h2",[this._v("\n\t\t\t\t                    QUEUE\n\t\t\t\t                    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("TICKET NUMBER")]),this._v(" "),e("th",[this._v("TRANSACTION")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[this._v("Add Ticket")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-line"},[e("select",{staticClass:"form-control",attrs:{name:"occupier"}},[e("option",{attrs:{value:""}},[this._v("1")]),this._v(" "),e("option",{attrs:{value:""}},[this._v("2")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[this._v("Edit Ticket")])])}]},I=a("VU/8")(L,R,!1,null,null,null).exports,V=a("CGvA"),z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"advertisements"}},[a("section",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"block-header"},[a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"body table-responsive"},[a("table",{staticClass:"table"},[t._m(1),t._v(" "),a("tbody",t._l(t.advertisements,function(e,s){return a("tr",{key:s},[a("th",{attrs:{scope:"row"}},[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.name))]),t._v(" "),a("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},attrs:{"data-toggle":"modal","data-target":"#editAdvertisements"},on:{click:function(a){t.setCurrentAdvertisement(e)}}},[t._v("mode_edit")]),t._v(" "),a("i",{staticClass:"material-icons",staticStyle:{cursor:"pointer"},on:{click:function(a){t.removeAdvertisement(e)}}},[t._v("delete")])])}))])])])])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"addAdvertisements",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.addNewAdvertisement(e)}}},[a("div",{staticClass:"modal-body",staticStyle:{"padding-bottom":"0px"}},[a("label",{attrs:{for:"name"}},[t._v("Name:")]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-line"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.advertisementData.name,expression:"advertisementData.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.advertisementData.name},on:{input:function(e){e.target.composing||t.$set(t.advertisementData,"name",e.target.value)}}})])]),t._v(" "),t.isFileUploading?a("div",{staticStyle:{"margin-bottom":"10px"}},[t._m(3),t._v(" "),a("p",[t._v("Uploading file. Please wait...")])]):t._e(),t._v(" "),a("input",{attrs:{type:"file"},on:{change:t.uploadFile}})]),t._v(" "),t.notifications.add_notif?a("p",{staticClass:"col-teal",staticStyle:{"text-align":"center","margin-top":"10px"}},[t._v("Advertisement Added! You may now close this modal.")]):t._e(),t._v(" "),a("div",{staticClass:"modal-footer",staticStyle:{"padding-top":"0px"}},[a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"submit",disabled:t.isFileUploading}},[t.preloaders.add_loader?t._e():a("span",[t._v("SAVE")]),t._v(" "),t.preloaders.add_loader?a("span",[t._v("SAVING...")]):t._e()]),t._v(" "),a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"button","data-dismiss":"modal"}},[t._v("CLOSE")])])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"editAdvertisements",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(4),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.updateAdvertisement(e)}}},[a("div",{staticClass:"modal-body",staticStyle:{"padding-bottom":"0px"}},[a("label",{attrs:{for:"first_name"}},[t._v("Name:")]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-line"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.advertisementData.name,expression:"advertisementData.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.advertisementData.name},on:{input:function(e){e.target.composing||t.$set(t.advertisementData,"name",e.target.value)}}})])])]),t._v(" "),t.notifications.edit_notif?a("p",{staticClass:"col-teal"},[t._v("Advertisement Updated!")]):t._e(),t._v(" "),a("div",{staticClass:"modal-footer",staticStyle:{"padding-top":"0px"}},[a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"submit"}},[t.preloaders.edit_loader?t._e():a("span",[t._v("SAVE")]),t._v(" "),t.preloaders.edit_loader?a("span",[t._v("SAVING...")]):t._e()]),t._v(" "),a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"button","data-dismiss":"modal"}},[t._v("CLOSE")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("h2",[this._v("ADVERTISEMENTS")]),this._v(" "),e("ul",{staticClass:"header-dropdown m-r--5"},[e("li",{staticClass:"dropdown"},[e("a",{staticClass:"dropdown-toggle",attrs:{href:"javascript:void(0);","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"material-icons"},[this._v("more_vert")])]),this._v(" "),e("ul",{staticClass:"dropdown-menu pull-right"},[e("li",[e("a",{staticClass:" waves-effect waves-block",attrs:{"data-toggle":"modal","data-target":"#addAdvertisements","data-backdrop":"static","data-keyboard":"false"}},[this._v("Add New Advertisement")])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("#")]),this._v(" "),e("th",[this._v("NAME")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[this._v("Add New Advertisement")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"preloader pl-size-xs"},[e("div",{staticClass:"spinner-layer pl-red-grey"},[e("div",{staticClass:"circle-clipper left"},[e("div",{staticClass:"circle"})]),this._v(" "),e("div",{staticClass:"circle-clipper right"},[e("div",{staticClass:"circle"})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[this._v("Edit Advertisement")])])}]},M=a("VU/8")(V.a,z,!1,null,null,null).exports,Q={data:function(){return{logs:[]}},mounted:function(){this.validateUser()},methods:{validateUser:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(C.a)();case 3:"superuser"!==e.sent.user.type&&(window.location.href="/login"),t.getLogs(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()},getLogs:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.service("/backlog").find();case 3:a=e.sent,console.log(a),t.logs=a.data,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()}},filters:{formatDate:function(t){return F()(t).format("lll")}}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"logs"}},[a("section",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"block-header"},[a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"body table-responsive"},[a("table",{staticClass:"table"},[t._m(1),t._v(" "),a("tbody",t._l(t.logs,function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.ticket.label))]),t._v(" "),a("td",[t._v(t._s(e.transaction))]),t._v(" "),a("td",[t._v(t._s(t._f("formatDate")(e.created_at)))]),t._v(" "),a("td",[t._v(t._s(e.counter.label)+" - "+t._s(e.counter.occupied_by.first_name+" "+e.counter.occupied_by.last_name))])])}))])])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("h2",[this._v("\n\t\t\t\t                    LOGS\n\t\t\t\t                    ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("TICKET #")]),this._v(" "),e("th",[this._v("TRANSACTION")]),this._v(" "),e("th",[this._v("DATE SERVED")]),this._v(" "),e("th")])])}]},X=a("VU/8")(Q,G,!1,null,null,null).exports,H={data:function(){return{settings:[],preloaders:{add_loader:!1},notifications:{add_notif:!1},formData:{company_name:"",announcement:""}}},mounted:function(){this.getSettings()},methods:{updateSettings:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preloaders.add_loader=!0,e.prev=1,e.next=4,f.a.service("settings").create(t.formData);case 4:e.sent&&(t.preloaders.add_loader=!1,t.notifications.add_notif=!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}},e,t,[[1,8]])}))()},getSettings:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.service("settings").find();case 3:a=e.sent,t.settings=a.data,t.formData=a.data[0],e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()}}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"settings"}},[a("section",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"block-header"},[a("div",{staticClass:"row clearfix"},[a("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"body table-responsive"},[a("table",{staticClass:"table"},[t._m(1),t._v(" "),a("tbody",t._l(t.settings,function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.company_name))]),t._v(" "),a("td",[t._v(t._s(e.announcement))])])}))])])])])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"updateSettings",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.updateSettings(e)}}},[a("div",{staticClass:"modal-body",staticStyle:{"padding-bottom":"0px"}},[a("label",{attrs:{for:"first_name"}},[t._v("Application Name:")]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-line"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.company_name,expression:"formData.company_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.formData.company_name},on:{input:function(e){e.target.composing||t.$set(t.formData,"company_name",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-line"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.announcement,expression:"formData.announcement"}],staticClass:"form-control no-resize",attrs:{rows:"4",placeholder:"Announcement"},domProps:{value:t.formData.announcement},on:{input:function(e){e.target.composing||t.$set(t.formData,"announcement",e.target.value)}}})])]),t._v(" "),t.notifications.add_notif?a("p",{staticClass:"col-teal"},[t._v("Settings Updated!")]):t._e()]),t._v(" "),a("div",{staticClass:"modal-footer",staticStyle:{"padding-top":"0px"}},[a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"submit"}},[t.preloaders.add_loader?t._e():a("span",[t._v("UPDATE")]),t._v(" "),t.preloaders.add_loader?a("span",[t._v("UPDATING...")]):t._e()]),t._v(" "),a("button",{staticClass:"btn btn-link waves-effect",attrs:{type:"button","data-dismiss":"modal"}},[t._v("CLOSE")])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("h2",[this._v("\n\t\t\t\t                    SETTINGS\n\t\t\t\t                ")]),this._v(" "),e("ul",{staticClass:"header-dropdown m-r--5"},[e("li",{staticClass:"dropdown"},[e("a",{staticClass:"dropdown-toggle",attrs:{href:"javascript:void(0);","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"material-icons"},[this._v("more_vert")])]),this._v(" "),e("ul",{staticClass:"dropdown-menu pull-right"},[e("li",[e("a",{staticClass:" waves-effect waves-block",attrs:{"data-toggle":"modal","data-target":"#updateSettings"}},[this._v("Update Settings")])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{staticStyle:{width:"25%"}},[this._v("APPLICATION NAME")]),this._v(" "),e("th",{staticStyle:{width:"75%"}},[this._v("ANNOUNCEMENT")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[this._v("Update Settings")])])}]},J=a("VU/8")(H,B,!1,null,null,null).exports,K={data:function(){return{email:"",password:""}},mounted:function(){this.checkAuth()},methods:{login:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.authenticate({strategy:"local",email:t.email,password:t.password});case 3:a=e.sent,console.log("result",a),"employee"==a.user.type?window.location.href="/counter":window.location.href="/admin",console.log(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0.message);case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()},checkAuth:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(C.a)();case 3:a=t.sent,console.log(a.user),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},e,t,[[0,7]])}))()}}},W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login"}},[a("div",{staticClass:"login-page ls-closed"},[a("div",{staticClass:"login-box login-page ls-closed",staticStyle:{"margin-bottom":"0px"}},[t._m(0),t._v(" "),a("div",{staticClass:"card",staticStyle:{"margin-bottom":"0px"}},[a("div",{staticClass:"body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("div",{staticClass:"msg"},[t._v("Login to start your session")]),t._v(" "),a("div",{staticClass:"input-group"},[t._m(1),t._v(" "),a("div",{staticClass:"form-line"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",name:"username",placeholder:"Email",required:"",autofocus:"","aria-required":"true","aria-invalid":"false"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"input-group"},[t._m(2),t._v(" "),a("div",{staticClass:"form-line"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"Password",required:"","aria-required":"true","aria-invalid":"false"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),t._m(3)])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("a",{attrs:{href:"javascript:void(0);"}},[this._v("Admin/Counter")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon"},[e("i",{staticClass:"material-icons"},[this._v("person")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-addon"},[e("i",{staticClass:"material-icons"},[this._v("lock")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-6"}),this._v(" "),e("div",{staticClass:"col-xs-6"},[e("button",{staticClass:"btn btn-block bg-primary waves-effect",attrs:{type:"submit"}},[this._v("LOGIN")])])])}]};var Y=a("VU/8")(K,W,!1,function(t){a("mOFy")},null,null).exports,Z=(f.a.service("get-next-ticket"),{data:function(){return{currentTicket:{ticket:{label:0}},user:"",counterName:"",ticketRetrieved:!0,transaction:"",transactionsArray:["OTR","DIPLOMA","CERTIFICATION OF GRADES","EVALUATION OF GRADES","HONORABLE DISMISSAL","OTR PAYMENT"]}},mounted:function(){var t=this;return p()(v.a.mark(function e(){var a,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t,window.addEventListener("keypress",function(t){13===t.keyCode&&a.getNextTicket()}),e.prev=2,e.next=5,Object(C.a)();case 5:s=e.sent,t.user=s.user,t.getCounter(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),window.location.href="/login";case 13:case"end":return e.stop()}},e,t,[[2,10]])}))()},methods:{saveTransaction:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.currentTicket),e.prev=1,e.next=4,f.a.service("now-serving").patch(t.currentTicket._id,{transaction:t.transaction});case 4:a=e.sent,console.log(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}},e,t,[[1,8]])}))()},getCounter:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.service("counters").find({query:{occupied_by:{_id:t.user._id}}});case 2:a=e.sent,t.counterName=a.data[0].label,t.retainTicket(a.data[0]._id);case 5:case"end":return e.stop()}},e,t)}))()},getNextTicket:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.transaction){e.next=15;break}return e.prev=1,e.next=4,f.a.service("get-next-ticket").create({transaction:t.transaction});case 4:a=e.sent,t.currentTicket=a,t.transaction="",t.$forceUpdate(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:e.next=16;break;case 15:alert("Please choose a transaction!");case 16:case"end":return e.stop()}},e,t,[[1,10]])}))()},retainTicket:function(t){var e=this;return p()(v.a.mark(function a(){var s;return v.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.service("now-serving").find({query:{counter:t}});case 3:s=a.sent,e.currentTicket=s.data[0],a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}},a,e,[[0,7]])}))()},logout:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.removeItem("feathers-jwt"),window.location.href="/login";case 2:case"end":return t.stop()}},e,t)}))()}}}),tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"counter"}},[a("div",{staticClass:"container",staticStyle:{"text-align":"center","padding-top":"100px"}},[a("h3",{staticClass:"uk-card-title",staticStyle:{"font-size":"150px","font-weight":"bold"}},[t._v(t._s(t.currentTicket.ticket.label))]),t._v(" "),a("p",{staticStyle:{"font-size":"40px","text-transform":"uppercase"}},[t._v(t._s(t.counterName))]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.transaction,expression:"transaction"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.transaction=e.target.multiple?a:a[0]},t.saveTransaction]}},[a("option",{attrs:{value:""}},[t._v("Please choose transaction")]),t._v(" "),t._l(t.transactionsArray,function(e){return a("option",[t._v(t._s(e))])})],2),t._v(" "),a("p",{staticStyle:{"margin-top":"20px"}},[a("button",{staticClass:"next-btn",attrs:{type:"button"},on:{click:t.getNextTicket}},[t._v("NEXT TICKET")])])]),t._v(" "),a("div",[a("button",{staticClass:"logout-btn",on:{click:t.logout}},[t._v("LOGOUT")])])])},staticRenderFns:[]};var et=a("VU/8")(Z,tt,!1,function(t){a("nyVD")},"data-v-117ef416",null).exports,at={data:function(){return{isLoading:!1,newTicket:{label:""},mainQueue:[],nowServing:null,user:null,counter:null}},mounted:function(){var t=this;return p()(v.a.mark(function e(){var a,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)().then(function(t){return t.user});case 2:return a=e.sent,t.user=a,e.next=6,f.a.service("counters").find({query:{occupied_by:t.user._id}}).then(function(t){return t.data[0]});case 6:return s=e.sent,t.counter=s,console.log(t.counter),e.next=11,f.a.service("main-queue").find({query:{$sort:{created_at:1}}}).then(function(t){return t.data});case 11:return t.mainQueue=e.sent,e.next=14,f.a.service("now-serving").find({query:{counter:t.counter._id}}).then(function(t){return t.total?t.data[0].ticket.label:null});case 14:t.nowServing=e.sent;case 15:case"end":return e.stop()}},e,t)}))()},methods:{addTicket:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return""===t.newTicket.label&&alert("Type something!"),e.prev=1,t.isLoading=!0,e.next=5,f.a.service("tickets").create(t.newTicket);case 5:a=e.sent,console.log(a),t.newTicket.label="",e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),alert(e.t0.message);case 13:return e.prev=13,t.isLoading=!1,e.finish(13);case 16:case"end":return e.stop()}},e,t,[[1,10,13,16]])}))()},kickStart:function(){var t=this;return p()(v.a.mark(function e(){var a,s,r,n,i,o,c;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.service("main-queue").find({query:{$sort:{created_at:-1}}}).then(function(t){return t.data});case 3:a=t.sent,s=0;case 5:if(!(s<a.length)){t.next=12;break}return r=a[s],t.next=9,f.a.service("main-queue").remove(r._id);case 9:s++,t.next=5;break;case 12:return t.next=14,f.a.service("now-serving").find({query:{$sort:{created_at:-1}}}).then(function(t){return t.data});case 14:n=t.sent,s=0;case 16:if(!(s<n.length)){t.next=23;break}return i=n[s],t.next=20,f.a.service("now-serving").remove(i._id);case 20:s++,t.next=16;break;case 23:return t.next=25,f.a.service("tickets").find({query:{$sort:{created_at:1}}}).then(function(t){return t.data});case 25:o=t.sent,s=0;case 27:if(!(s<o.length)){t.next=34;break}return c=o[s],t.next=31,f.a.service("main-queue").create({ticket:c._id});case 31:s++,t.next=27;break;case 34:alert("Kick Started!"),t.next=40;break;case 37:t.prev=37,t.t0=t.catch(0),alert(t.t0.message);case 40:return t.prev=40,t.finish(40);case 42:case"end":return t.stop()}},e,t,[[0,37,40,42]])}))()},serveNext:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,function(){var e=p()(v.a.mark(function e(){var a,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.service("main-queue").find({query:{$sort:{created_at:-1}}}).then(function(t){return t.data});case 2:return a=e.sent,s=a[0],e.next=6,f.a.service("main-queue").remove(s._id);case 6:return e.next=8,f.a.service("now-serving").create({ticket:s.ticket._id,counter:t.counter._id});case 8:t.nowServing=s.ticket.label;case 9:case"end":return e.stop()}},e,t)}));return function(){return e.apply(this,arguments)}}(),e.next=4,f.a.service("now-serving").find({query:{counter:t.counter._id}});case 4:e.sent,alert(j()(t.counter)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.message);case 11:return e.prev=11,e.finish(11);case 13:case"end":return e.stop()}},e,t,[[0,8,11,13]])}))()}},feathers:{"now-serving":{created:function(t){console.log(t)}}}},st={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"10px"}},[a("h1",[t._v("Testing Page")]),t._v(" "),a("div",{staticClass:"testing-page-body uk-flex"},[a("div",[a("p",[t._v("Kick Start System")]),t._v(" "),a("button",{on:{click:t.kickStart}},[t._v("NOW!!!")])]),t._v(" "),a("div",[a("p",[t._v("Main Queue")]),t._v(" "),t._l(t.mainQueue,function(e){return a("li",[t._v(t._s(e.ticket.label))])})],2),t._v(" "),a("div",[a("p",[t._v("\n        Add Ticket\n        "),t.isLoading?a("span",[t._v("(Adding...)")]):t._e()]),t._v("\n      Ticket Name: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newTicket.label,expression:"newTicket.label"}],attrs:{type:"text"},domProps:{value:t.newTicket.label},on:{input:function(e){e.target.composing||t.$set(t.newTicket,"label",e.target.value)}}}),t._v(" "),a("button",{on:{click:t.addTicket}},[t._v("Add")])]),t._v(" "),a("div",[a("p",[t._v("Now Serving")]),t._v(" "),a("p",[t._v(t._s(t.nowServing))]),t._v(" "),a("button",{on:{click:t.serveNext}},[t._v("Serve Next")])])])])},staticRenderFns:[]};var rt=a("VU/8")(at,st,!1,function(t){a("rlH8")},null,null).exports,nt=f.a.service("counters"),it={data:function(){return{counters:[]}},mounted:function(){var t=this;return p()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(C.a)();case 3:t.getCounters(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}},e,t,[[0,6]])}))()},methods:{getCounters:function(){var t=this;return p()(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nt.find();case 3:a=e.sent,t.counters=a.data,console.log(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()}}},ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"choose-your-counter"}},[a("div",{staticClass:"uk-container uk-text-center",staticStyle:{padding:"50px"}},[a("h1",[t._v("CHOOSE YOUR COUNTER NUMBER")]),t._v(" "),a("div",{staticClass:"uk-child-width-1-3@m uk-grid-small uk-grid-match",attrs:{"uk-grid":""}},t._l(t.counters,function(e){return a("div",[a("div",{staticClass:"uk-card uk-card-default uk-card-body"},[a("h3",{staticClass:"uk-card-title",staticStyle:{"font-size":"70px"}},[t._v(t._s(e.label))]),t._v(" "),a("p",[t._v("OCCUPIED")])])])}))])])},staticRenderFns:[]},ct=a("VU/8")(it,ot,!1,null,null,null).exports;s.a.use(i.a);var lt=new i.a({routes:[{path:"/test",component:rt},{path:"/",name:"Monitor",component:d},{path:"/admin",parentName:"Admin",component:k,children:[{path:"",name:"Employees",component:T},{path:"counters",name:"Counters",component:D},{path:"tickets",name:"Tickets",component:q},{path:"queues",name:"Queues",component:I},{path:"advertisements",name:"Advertisements",component:M},{path:"logs",name:"Logs",component:X},{path:"settings",name:"Settings",component:J}]},{path:"/login",name:"Login",component:Y},{path:"/counter",name:"Counter",component:et},{path:"/choose-your-counter",name:"Choose Your Counter",component:ct}],mode:"history"});s.a.config.productionTip=!1,new s.a({el:"#app",router:lt,components:{App:n},template:"<App/>"})},gyMJ:function(t,e,a){"use strict";var s=a("myXI"),r=a("DmT9"),n=a.n(r),i=a("Vjoj"),o=a.n(i),c=a("g0X3"),l=a.n(c),d=a("P7rh"),u=a.n(d),v=a("7+uW"),m=a("3Q6M"),p=a.n(m),f=n()(s.a,{transports:["websocket"],forceNew:!0}),_=o()();_.configure(l()(f,{timeout:1e5})),_.configure(u()({storage:window.localStorage})),v.a.use(p.a,_),e.a=_},mOFy:function(t,e){},myXI:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var s="http://188.166.250.15"},nyVD:function(t,e){},rlH8:function(t,e){},uslO:function(t,e,a){var s={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function r(t){return a(n(t))}function n(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}r.keys=function(){return Object.keys(s)},r.resolve=n,t.exports=r,r.id="uslO"}},["NHnr"]);
//# sourceMappingURL=app.36932674c7e6f9b62153.js.map